(this["webpackJsonplogin-registration-forms"]=this["webpackJsonplogin-registration-forms"]||[]).push([[0],{136:function(e,t,s){},137:function(e,t,s){"use strict";s.r(t);var a,c,n=s(1),r=s(38),i=s.n(r),o=s(28),l=s(21),j=s(16),u=s(149),d=s(150),b=s(138),O=s(4),m=Object(o.b)((function(e){return{user:e.user.user,isAuthenticated:e.user.isAuthenticated}}))((function(e){var t=e.user;e.isAuthenticated;return Object(O.jsx)(b.a,{className:"my-5",children:Object(O.jsx)("h3",{children:"Hello  ".concat(t.firstName," ").concat(t.lastName)})})})),h=s(17),x=(s(105),s(139)),g=s(140),f=s(141),p=s(142),v=s(143),A=function(e){var t=e.loading,s=e.success,a=e.status;return t?Object(O.jsx)(b.a,{style:{color:"yellow"},children:a}):t||s||!a?!t&&s&&a?Object(O.jsx)(b.a,{style:{color:"green"},children:a}):Object(O.jsx)(O.Fragment,{}):Object(O.jsx)(b.a,{style:{color:"red"},children:a})},N=function(e){var t=e.isAuthenticated,s=e.loginUser,a=e.loading,c=e.success,r=e.status,i=(e.removeMessage,Object(n.useState)("")),o=Object(h.a)(i,2),u=o[0],d=o[1],m=Object(n.useState)(""),N=Object(h.a)(m,2),y=N[0],E=N[1],S=Object(j.g)(),C=function(e){e.preventDefault(),s({userName:u,password:y})};return Object(n.useEffect)((function(){t&&S.push("/")}),[t]),Object(O.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(O.jsxs)(x.a,{onSubmit:C,children:[Object(O.jsx)(g.a,{children:Object(O.jsx)(b.a,{className:"mt-5",children:Object(O.jsx)("h3",{children:"Login"})})}),Object(O.jsxs)("div",{className:"text-left",children:[Object(O.jsxs)(g.a,{children:[Object(O.jsx)(b.a,{for:"loginUser",children:"User name"}),Object(O.jsx)(f.a,{tabIndex:1,type:"text",id:"loginUser",name:"username",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(O.jsxs)(g.a,{className:"text-left",children:[Object(O.jsx)(b.a,{for:"loginPassword",children:"Password"}),Object(O.jsx)(f.a,{tabIndex:2,type:"password",id:"loginPassword",name:"password",value:y,onChange:function(e){return E(e.target.value)}})]}),Object(O.jsx)(g.a,{className:"text-center",children:Object(O.jsx)(A,{loading:a,success:c,status:r})}),Object(O.jsxs)(g.a,{className:"text-center col-12 d-flex flex flex-column align-items-center",children:[Object(O.jsx)(p.a,{tabIndex:3,color:"primary",className:"col-md-6 col-sm-12 mt-3",onClick:C,disabled:a,children:a?"Authenticating...":"Login"}),Object(O.jsx)(v.a,{children:Object(O.jsx)(l.b,{to:"/register",children:"Sign Up"})})]})]})]})})},y=s(61),E=s.n(y).a.create({baseURL:"https://authenticate-node.herokuapp.com/",headers:{Authorization:"Bearer ".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/codementor-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).AUTH_TOKEN)}}),S="REGISTRATION_REQUESTED",C="REGISTRATION_SUCCESS",I="REGISTRATION_FAILED",w="LOGIN_REQUESTED",U="LOGIN_SUCCESS",T="LOGIN_FAILED",_="LOGOUT_USER",F="CLEAR_MESSAGE",R=function(){return function(e){e({type:F})}},D=Object(o.b)((function(e){return{user:e.user.user,isAuthenticated:e.user.isAuthenticated,success:e.user.success,loading:e.user.loading,status:e.user.status}}),(function(){return function(e){return{loginUser:function(t){return e((s=t,function(e){e({type:w,payload:null}),E.post("/login",s).then((function(t){e({type:U,payload:t.data})})).catch((function(t){e({type:T,payload:t.response?t.response.data:t.message})}))}));var s},removeMessage:function(){return e(R())}}}}))(N),L=Object(o.b)((function(){return{}}),(function(e){return{logoutUser:function(){return e((function(e){e({type:_})}))}}}))((function(e){var t=e.logoutUser;return Object(n.useEffect)((function(){t()})),Object(O.jsx)(b.a,{className:"my-5",children:"Logged out from application. ! Please try login again!"})})),k=function(e){var t=e.registerUser,s=(e.removeMessage,e.loading),a=e.success,c=e.status,r=Object(n.useState)(""),i=Object(h.a)(r,2),o=i[0],j=i[1],u=Object(n.useState)(""),d=Object(h.a)(u,2),m=d[0],N=d[1],y=Object(n.useState)(""),E=Object(h.a)(y,2),S=E[0],C=E[1],I=Object(n.useState)(""),w=Object(h.a)(I,2),U=w[0],T=w[1],_=Object(n.useState)(""),F=Object(h.a)(_,2),R=F[0],D=F[1],L=function(e){e.preventDefault(),t({firstName:o,lastName:m,email:U,userName:S,password:R})};return Object(O.jsx)("div",{className:"col-md-6 col-sm-12",children:Object(O.jsxs)(x.a,{onSubmit:L,children:[Object(O.jsx)(g.a,{className:"mt-5",children:Object(O.jsx)(b.a,{children:Object(O.jsx)("h3",{children:"Register here!"})})}),Object(O.jsxs)("div",{className:"text-left",children:[Object(O.jsxs)(g.a,{children:[Object(O.jsx)(b.a,{for:"registerFirstName",children:"First name"}),Object(O.jsx)(f.a,{tabIndex:1,type:"text",name:"firstName",id:"registerFirstName",value:o,onChange:function(e){return j(e.target.value)}})]}),Object(O.jsxs)(g.a,{children:[Object(O.jsx)(b.a,{for:"registerLastName",children:"Last Name"}),Object(O.jsx)(f.a,{tabIndex:2,type:"text",name:"lastName",id:"registerLastName",value:m,onChange:function(e){return N(e.target.value)}})]}),Object(O.jsxs)(g.a,{children:[Object(O.jsx)(b.a,{for:"registerEmail",children:"Email"}),Object(O.jsx)(f.a,{tabIndex:4,type:"email",name:"email",id:"registerEmail",value:U,onChange:function(e){return T(e.target.value)}})]}),Object(O.jsxs)(g.a,{children:[Object(O.jsx)(b.a,{for:"registerUserNmae",children:"Username"}),Object(O.jsx)(f.a,{tabIndex:4,type:"text",name:"userName",id:"registerUserName",value:S,onChange:function(e){return C(e.target.value)}})]}),Object(O.jsxs)(g.a,{children:[Object(O.jsx)(b.a,{for:"registerPassword",children:"Password"}),Object(O.jsx)(f.a,{tabIndex:5,type:"password",name:"password",id:"registerPassword",value:R,onChange:function(e){return D(e.target.value)}})]}),Object(O.jsx)(g.a,{className:"text-center",children:Object(O.jsx)(A,{loading:s,success:a,status:c})}),Object(O.jsxs)(g.a,{className:"text-center col-12 d-flex flex flex-column align-items-center",children:[Object(O.jsxs)(p.a,{tabIndex:6,color:"primary",className:"col-md-6 col-sm-12 mt-3",onClick:L,disabled:s,children:[Object(O.jsx)("i",{class:"bi bi-binoculars"}),s?"Registering...":"Register Now!"]}),Object(O.jsx)(v.a,{children:Object(O.jsx)(l.b,{to:"/login",children:"Click Login"})})]})]})]})})},M=Object(o.b)((function(e){return{success:e.user.success,loading:e.user.loading,status:e.user.status}}),(function(){return function(e){return{registerUser:function(t){return e((s=t,function(e){e({type:S,payload:null}),E.post("/register",s).then((function(t){e({type:C,payload:t.data})})).catch((function(t){e({type:I,payload:t.response?t.response.data:t.message})}))}));var s},removeMessage:function(){return e(R())}}}}))(k),P=s(1).useState,B=[{name:"RAMMOHANA RAO BALAGA",age:26,email:"ramanji.balaga@gmail.com",rollId:1,mobile:"91237183",class:"XII",section:"A2"},{name:"RAMBABU MUDADLA",age:26,email:"rambabu.mudadla@gmail.com",rollId:2,class:"XII",section:"A2"},{name:"SURESH BALAGA",age:26,email:"suresh.balaga@gmail.com",rollId:3,class:"XII",section:"A2"},{name:"JUAN ALA",age:26,email:"juan.ala@gmail.com",rollId:4,class:"XII",section:"A2"},{name:"SUJANI PRATTIPATI",age:26,email:"sujani.pratthipati@gmail.com",rollId:5,class:"XII",section:"A2"}],G=function(){var e=P(B),t=Object(h.a)(e,2);t[0],t[1];return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{children:Object(O.jsxs)("div",{class:"my-3 p-3 bg-white rounded box-shadow",children:[Object(O.jsx)("h6",{class:"border-bottom border-gray pb-2 mb-0",children:"Recent updates"}),Object(O.jsxs)("div",{class:"media text-muted pt-3",children:[Object(O.jsx)("img",{"data-src":"holder.js/32x32?theme=thumb&bg=007bff&fg=007bff&size=1",alt:"32x32",class:"mr-2 rounded",style:{width:"32px",height:"32px"},src:"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2232%22%20height%3D%2232%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2032%2032%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_178869a168b%20text%20%7B%20fill%3A%23007bff%3Bfont-weight%3Abold%3Bfont-family%3AArial%2C%20Helvetica%2C%20Open%20Sans%2C%20sans-serif%2C%20monospace%3Bfont-size%3A2pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_178869a168b%22%3E%3Crect%20width%3D%2232%22%20height%3D%2232%22%20fill%3D%22%23007bff%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%2211.5390625%22%20y%3D%2216.9%22%3E32x32%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E","data-holder-rendered":"true"}),Object(O.jsxs)("p",{class:"media-body pb-3 mb-0 small lh-125 border-bottom border-gray align-left",children:[Object(O.jsx)("strong",{class:"d-block text-gray-dark",children:"@username"}),"Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus."]})]})]})})})},H=s(144),X=s(145),q=s(146),J=s(151),K=s(147),z=s(148),Q=Object(o.b)((function(e){return{isAuthenticated:e.user.isAuthenticated}}))((function(e){var t=e.isAuthenticated,s=Object(n.useState)(!1),a=Object(h.a)(s,2),c=a[0],r=a[1];return Object(O.jsxs)(H.a,{color:"light",light:!0,expand:"md",children:[Object(O.jsx)(X.a,{children:Object(O.jsx)(l.b,{children:"Authenticator"})}),Object(O.jsx)(q.a,{onClick:function(){return r(!c)}}),Object(O.jsxs)(J.a,{isOpen:c,navbar:!0,children:[Object(O.jsx)(K.a,{className:"mr-auto",navbar:!0,children:t?Object(O.jsx)(z.a,{children:Object(O.jsx)(v.a,{children:Object(O.jsx)(l.b,{to:"/",children:"Home"})})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(z.a,{children:Object(O.jsx)(v.a,{children:Object(O.jsx)(l.b,{to:"/login",children:"Login"})})}),Object(O.jsx)(z.a,{children:Object(O.jsx)(v.a,{children:Object(O.jsx)(l.b,{to:"/register",children:"Register"})})})]})}),t&&Object(O.jsx)(v.a,{children:Object(O.jsx)(l.b,{to:"/logout",children:"Logout"})})]})]})})),W=s(15),$=s(96),V=function(){return!!localStorage.getItem("authToken")},Y=function(e){var t=e.component,s=Object($.a)(e,["component"]);return Object(O.jsx)(j.b,Object(W.a)(Object(W.a)({},s),{},{render:function(e){return V()?Object(O.jsx)(t,Object(W.a)({},s)):Object(O.jsx)(j.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Z=s(66),ee=s(36),te=Object(ee.gql)(a||(a=Object(Z.a)(["\n  query {\n    songs {\n      title\n    }\n  }\n"]))),se=Object(ee.gql)(c||(c=Object(Z.a)(["\n  mutation mutationName($user: String!) {\n    insertUser(user: $user) {\n      username\n      email\n    }\n  }\n"]))),ae=function(){var e=Object(ee.useQuery)(te),t=(e.loading,e.err,e.data,Object(ee.useMutation)(se)),s=Object(h.a)(t,2),a=s[0],c=s[1];c.data,c.loading;return Object(O.jsx)("button",{onClick:function(){a({variables:{user:"rammohana rao"}})},children:"Movies"})},ce=s(46),ne=s.n(ce),re=s(61).default,ie=s(1),oe=ie.useState,le=ie.useEffect,je=function(){var e=oe(0),t=Object(h.a)(e,2),s=t[0],a=t[1],c=oe([]),n=Object(h.a)(c,2),r=n[0],i=n[1],o=oe(19),l=Object(h.a)(o,2),j=l[0],u=l[1];le((function(){re.get("https://authenticate-node.herokuapp.com/sessions").then((function(e){var t=ne()()-ne()().startOf("week"),s=e.data.reduce((function(e,s){var a=ne()()-ne()(s.finished_at);return t<a&&(e+=s.amount_before_platform_fee),e}),0);a(s);var c=22;s>=1500?c=13:s>=750?c=15:s>=300?c=18:s>=50&&(c=19),u(c);var n=e.data.sort((function(e,t){return e.finished_at>t.finished_at}));i(n)}))}),[]);var d=(100-j)/100;return Object(O.jsxs)("div",{className:"my-3",children:[Object(O.jsxs)("h2",{className:"mt-3",children:["Total Sessions: ",r.length]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("h2",{children:["Total Cost: ",s.toFixed(1)]}),Object(O.jsx)("hr",{}),Object(O.jsxs)("h2",{children:["After Cuttings: ",(s*d).toFixed(1)]}),Object(O.jsxs)("h2",{children:["After Cuttings (INR): ",(s*d*73).toFixed(1)]}),Object(O.jsx)("hr",{}),Object(O.jsx)("input",{type:"number",value:j,onChange:function(e){return u(e.target.valueAsNumber)}}),Object(O.jsx)("ul",{className:"mt-3 list-group col-12",children:r.map((function(e){return Object(O.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(O.jsx)("span",{className:"badge",children:e.client.name}),Object(O.jsx)("span",{className:"badge badge-info",children:e.amount_before_platform_fee})]})}))})]})},ue=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(Q,{}),Object(O.jsx)(u.a,{className:"d-flex flex flex-column align-items-center",children:Object(O.jsx)(d.a,{className:"d-flex flex flex-column col-sm-12 my-5 py-0 align-items-center",children:Object(O.jsxs)(j.d,{children:[Object(O.jsx)(j.b,{path:"/",exact:!0,children:Object(O.jsx)(Y,{component:m})}),Object(O.jsx)(j.b,{path:"/mentor",component:je}),Object(O.jsx)(j.b,{path:"/students",component:G}),Object(O.jsx)(j.b,{path:"/login",children:Object(O.jsx)(D,{})}),Object(O.jsx)(j.b,{path:"/register",children:Object(O.jsx)(M,{})}),Object(O.jsx)(j.b,{path:"/logout",children:Object(O.jsx)(L,{})}),Object(O.jsx)(j.b,{path:"/movies",component:ae}),Object(O.jsx)(j.b,{path:"*",component:function(){return"404 Not found"}})]})})})]})},de=s(35),be={user:{},isAuthenticated:!1,loading:!1,success:!1,status:""},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(W.a)(Object(W.a)({},be),{},{status:"",success:!1,loading:!1});case _:return localStorage.removeItem("AuthToken"),be;case w:return Object(W.a)(Object(W.a)({},be),{},{loading:!0,status:"Authenticating..."});case U:var s=t.payload,a=s.user,c=s.accessToken;return localStorage.setItem("authToken",c),Object(W.a)(Object(W.a)({},e),{},{user:Object(W.a)(Object(W.a)({},a),{},{accessToken:c}),isAuthenticated:!0,loading:!1,success:!0,status:t.payload.status});case T:return Object(W.a)(Object(W.a)({},be),{},{status:t.payload.status});case S:return Object(W.a)(Object(W.a)({},be),{},{loading:!0,status:"Registering..."});case C:return Object(W.a)(Object(W.a)({},be),{},{success:!0,status:t.payload.status});case I:return Object(W.a)(Object(W.a)({},be),{},{status:t.payload.status});default:return Object(W.a)({},e)}},me=s(95),he=Object(de.d)(Object(de.c)({user:Oe}),{},Object(de.a)(me.a)),xe=(Object(de.c)({user:Oe}),s(50)),ge=(s(136),new ee.ApolloClient({uri:"http://localhost:3000/graphql",cache:new ee.InMemoryCache}));function fe(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(o.a,{store:he,children:Object(O.jsx)(xe.ApolloProvider,{client:ge,children:Object(O.jsx)(l.a,{children:Object(O.jsx)(ue,{})})})})})}var pe=document.getElementById("root");i.a.render(Object(O.jsx)(n.StrictMode,{children:Object(O.jsx)(fe,{})}),pe)}},[[137,1,2]]]);
//# sourceMappingURL=main.a68377d9.chunk.js.map